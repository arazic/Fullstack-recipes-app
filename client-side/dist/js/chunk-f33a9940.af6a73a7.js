(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f33a9940"],{"0538":function(e,t,r){"use strict";var i=r("2bf2"),a=r.n(i);a.a},2532:function(e,t,r){"use strict";var i=r("23e7"),a=r("5a34"),n=r("1d80"),s=r("ab13");i({target:"String",proto:!0,forced:!s("includes")},{includes:function(e){return!!~String(n(this)).indexOf(a(e),arguments.length>1?arguments[1]:void 0)}})},"2bf2":function(e,t,r){},"44e7":function(e,t,r){var i=r("861d"),a=r("c6b6"),n=r("b622"),s=n("match");e.exports=function(e){var t;return i(e)&&(void 0!==(t=e[s])?!!t:"RegExp"==a(e))}},"5a34":function(e,t,r){var i=r("44e7");e.exports=function(e){if(i(e))throw TypeError("The method doesn't accept regular expressions");return e}},"5c65":function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("b-form",{staticClass:"form",attrs:{inline:""},on:{submit:function(t){return t.preventDefault(),e.search(t)}}},[r("b-form-group",{staticClass:"center",attrs:{id:"input-group-query","label-cols-sm":"3",label:"Recipe name","label-for":"Recipe"}},[r("b-form-input",{attrs:{list:"my-list-id",id:"query",type:"search",placeholder:"Enter query",required:""},on:{"":function(e){}},model:{value:e.query,callback:function(t){e.query=t},expression:"query"}}),r("datalist",{attrs:{id:"my-list-id"}},[r("option",[e._v(e._s(e.lastSearch))])])],1),r("b-form-group",{staticClass:"center",attrs:{id:"input-group-amount",label:"Number of recipes","label-for":"amount"}},[r("b-form-select",{attrs:{id:"amount",options:[5,10,15]},model:{value:e.amount,callback:function(t){e.amount=t},expression:"amount"}})],1),r("b-form-group",{staticClass:"center",attrs:{id:"input-group-cuisine","label-cols-sm":"3",label:"cuisine","label-for":"cuisine"}},[r("b-form-select",{attrs:{id:"cuisine",options:e.cuisines},model:{value:e.cuisine,callback:function(t){e.cuisine=t},expression:"cuisine"}})],1),r("b-form-group",{staticClass:"center",attrs:{id:"input-group-cuisine","label-cols-sm":"3",label:"Diets","label-for":"diets"}},[r("b-form-select",{attrs:{id:"diet",options:e.diets},model:{value:e.diet,callback:function(t){e.diet=t},expression:"diet"}})],1),r("b-form-group",{staticClass:"center",attrs:{id:"input-group-intolerances","label-cols-sm":"3",label:"Intolerances","label-for":"intolerances"}},[r("b-form-select",{staticClass:"center",attrs:{id:"intolerance",options:e.intolerances},on:{change:e.updateIntolerance},model:{value:e.intolerance,callback:function(t){e.intolerance=t},expression:"intolerance"}})],1),r("b-form-group",[r("p",{staticClass:"center"},[e._v(" intolerances:"+e._s(e.choosed.toString())+" ")])]),r("b-button",{staticClass:"button",attrs:{type:"submit",variant:"primary"}},[e._v("Search")]),e.searchFlag?r("b-form-group",{staticClass:"center",attrs:{id:"input-group-sort","label-cols-sm":"3",label:"Sort by","label-for":"SortBy"}},[e.searchFlag?r("b-form-select",{attrs:{id:"sortBy",options:["Popularity","Preparation time"]},on:{change:e.sort},model:{value:e.sortBy,callback:function(t){e.sortBy=t},expression:"sortBy"}}):e._e()],1):e._e()],1),e.searchFlag?r("RecipePreviewList",{ref:"searchResult",attrs:{title:"Search result",favorite:!0,url:e.url},on:{"no-recipes":e.raiseError,"full-recipe":e.fullRecipe}}):e._e(),r("p",{directives:[{name:"show",rawName:"v-show",value:e.errorFlag,expression:"errorFlag"}],staticClass:"error"},[e._v("No results found, please enter new query ")])],1)},a=[],n=(r("caad"),r("c975"),r("a434"),r("0d03"),r("d3b7"),r("25f0"),r("2532"),r("2909")),s=(r("96cf"),r("1da1")),o=["All","African","American","British","Cajun","Caribbean","Chinese","Eastern European","European","French","German","Greek","Indian","Irish","Italian","Japanese","Jewish","Korean","Latin American","Mediterranean","Mexican","Middle Eastern","Nordic","Southern","Spanish","Thai","Vietnamese"],c=["None","Vegetarian","Vegan","Gluten Free","Ketogenic","Lacto-Vegetarian","Ovo-Vegetarian","Pescetarian","Paleo","Primal","Whole30"],l=["Dairy","Egg","Gluten","Grain","Peanut","Seafood","Sesame","Shellfish","Soy","Sulfite","Tree Nut","Wheat"],u=r("99d8"),h={name:"search",data:function(){return{query:"",intolerance:"",diet:"None",cuisine:"All",diets:[],cuisines:[{value:null,text:"",disabled:!0}],intolerances:[{value:null,text:"",disabled:!0}],choosed:[],amount:5,url:"",searchFlag:!1,sortBy:"",errorFlag:!1,lastSearch:""}},components:{RecipePreviewList:u["a"]},methods:{updateIntolerance:function(){if(this.choosed.includes(this.intolerance)){var e=this.choosed.indexOf(this.intolerance);this.choosed.splice(e,1),this.intolerance=""}else this.choosed.push(this.intolerance),this.intolerance=""},raiseError:function(){this.searchFlag=!1,this.errorFlag=!0},search:function(){this.errorFlag=!1;try{"All"===this.cuisine&&(this.cuisine=""),"None"===this.diet&&(this.diet="");var e=this.choosed.toString();this.$root.store.username&&(sessionStorage.setItem("lastSearch",this.query),this.lastSearch=sessionStorage.getItem("lastSearch")),this.url="http://localhost:3000/recipes/search?query="+this.query+"&amount="+this.amount+"&cuisine="+this.cuisine+"&diet="+this.diet+"&intolerance="+e,this.searchFlag=!0}catch(t){console.log(t)}},sort:function(){"Popularity"===this.sortBy?this.$refs.searchResult.sortByPopularity():"Preparation time"===this.sortBy&&this.$refs.searchResult.sortByPreparationTime()},fullRecipe:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var i,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,t.axios.get("http://localhost:3000/recipes/Information?id="+e);case 3:i=r.sent,a=i.data.fullRecipe,t.$router.push({name:"recipe",query:{recipe:a}})["catch"]((function(){})),r.next=11;break;case 8:r.prev=8,r.t0=r["catch"](0),console.log(r.t0);case 11:case"end":return r.stop()}}),r,null,[[0,8]])})))()}},mounted:function(){var e,t,r;(e=this.diets).push.apply(e,Object(n["a"])(c)),(t=this.cuisines).push.apply(t,Object(n["a"])(o)),(r=this.intolerances).push.apply(r,Object(n["a"])(l)),this.lastSearch=sessionStorage.getItem("lastSearch")}},d=h,p=(r("0538"),r("2877")),f=Object(p["a"])(d,i,a,!1,null,null,null);t["default"]=f.exports},a434:function(e,t,r){"use strict";var i=r("23e7"),a=r("23cb"),n=r("a691"),s=r("50c4"),o=r("7b0b"),c=r("65f0"),l=r("8418"),u=r("1dde"),h=r("ae40"),d=u("splice"),p=h("splice",{ACCESSORS:!0,0:0,1:2}),f=Math.max,m=Math.min,b=9007199254740991,g="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!d||!p},{splice:function(e,t){var r,i,u,h,d,p,v=o(this),y=s(v.length),S=a(e,y),x=arguments.length;if(0===x?r=i=0:1===x?(r=0,i=y-S):(r=x-2,i=m(f(n(t),0),y-S)),y+r-i>b)throw TypeError(g);for(u=c(v,i),h=0;h<i;h++)d=S+h,d in v&&l(u,h,v[d]);if(u.length=i,r<i){for(h=S;h<y-i;h++)d=h+i,p=h+r,d in v?v[p]=v[d]:delete v[p];for(h=y;h>y-i+r;h--)delete v[h-1]}else if(r>i)for(h=y-i;h>S;h--)d=h+i-1,p=h+r-1,d in v?v[p]=v[d]:delete v[p];for(h=0;h<r;h++)v[h+S]=arguments[h+2];return v.length=y-i+r,u}})},ab13:function(e,t,r){var i=r("b622"),a=i("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[a]=!1,"/./"[e](t)}catch(i){}}return!1}},c975:function(e,t,r){"use strict";var i=r("23e7"),a=r("4d64").indexOf,n=r("a640"),s=r("ae40"),o=[].indexOf,c=!!o&&1/[1].indexOf(1,-0)<0,l=n("indexOf"),u=s("indexOf",{ACCESSORS:!0,1:0});i({target:"Array",proto:!0,forced:c||!l||!u},{indexOf:function(e){return c?o.apply(this,arguments)||0:a(this,e,arguments.length>1?arguments[1]:void 0)}})},caad:function(e,t,r){"use strict";var i=r("23e7"),a=r("4d64").includes,n=r("44d2"),s=r("ae40"),o=s("indexOf",{ACCESSORS:!0,1:0});i({target:"Array",proto:!0,forced:!o},{includes:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),n("includes")}}]);
//# sourceMappingURL=chunk-f33a9940.af6a73a7.js.map